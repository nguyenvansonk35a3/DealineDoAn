<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Star Admin Premium Bootstrap Admin Dashboard Template</title>
<!-- plugins:css -->
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/ionicons/css/ionicons.css">
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/typicons/src/font/typicons.css">
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css">
<link rel="stylesheet"
	href="../assets/vendors/css/vendor.bundle.base.css">
<link rel="stylesheet"
	href="../assets/vendors/css/vendor.bundle.addons.css">
<!-- endinject -->
<!-- plugin css for this page -->
<!-- End plugin css for this page -->
<!-- inject:css -->
<link rel="stylesheet" th:href="@{/assets/css/shared/style.css}">
<!-- endinject -->
<!-- Layout styles -->
<link rel="stylesheet" th:href="@{/assets/css/demo_1/style.css}">
<!-- End Layout styles -->
<link rel="shortcut icon" href="/assets/images/favicon.png" />

<script src="https://code.jquery.com/jquery-3.4.1.js"
	integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	crossorigin="anonymous"></script>
</head>
<body>
	<div class="container-scroller">
		<!-- partial:partials/_navbar.html -->
		<nav class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row" th:replace="manager/fragment/listNav::nav"></nav>
		
		
		
		<!-- partial -->
		<div class="container-fluid page-body-wrapper">
			<!-- partial:partials/_sidebar.html -->
			 <nav class="sidebar sidebar-offcanvas" id="sidebar" th:replace="manager/fragment/listNav_1::nav_1"></nav>
			<!-- partial -->
			<div class="main-panel">
				<div class="content-wrapper">
					<div class="row">
						<div class="col-lg-12 grid-margin stretch-card">
							<div class="card">
								<div class="card-body">
									<h4 class="card-title">Danh Sách Tài Khoản</h4>

									<table id="dataTable-listProduct" class="table table-hover">
										<thead>
											<tr>
												<th>Họ và tên</th>
												<th>Email</th>
												<th>Giới tính</th>
												<th>Ngày sinh</th>
												<th>Số điện thoại</th>
												<th>Chức danh</th>
												<th>Địa chỉ</th>
												<th></th>
											</tr>
										</thead>
										<tbody id="dataForm">
												<tr th:each="listuser : ${listuser}">
												<td th:text="${listuser.fullname}"></td>
												<td th:text="${listuser.email}"></td>
												<td th:text="${listuser.gender} ? 'Nữ' : 'Nam'">
												<td th:text="${listuser.birthday}"></td>
												<td th:text="${listuser.phone}"></td>
												<td th:text="${listuser.role} ?'Khách hàng':'Admin'"></td>
												<td th:text="${listuser.address}"></td>
												<td><a class="btn btn-info" th:href="@{'/manager/updateUser/'+${listuser.userId}}" >
												Cập Nhập</a></td>
											</tr>
										</tbody>
									</table>

								</div>
							</div>
						</div>
					</div>
				</div>
				 <footer class="footer" th:replace="manager/fragment/footer::footer"></footer>
				<!-- partial -->
			</div>
			<!-- main-panel ends -->
		</div>
		<!-- page-body-wrapper ends -->
	</div>
	
	<!-- <div id="updateUser" class="modal fade" role="dialog">
		  <div class="modal-dialog">
		
		    Modal content
		    <div class="modal-content">
		      <div class="modal-header">
		        <h4 class="modal-title">Tài Khoản</h4>
		      </div>
		      <div class="modal-body">
		        <p>Sửa Thông Tin Tài Khoản</p>
		        
		        <div class="col-lg-12">
		        	<div class="row">
		        		<div class="col-lg-6">
		        			<input type="hidden" id="idUpdateUser">
					       
					        <div class="form-group">
							    <label for="exampleInputEmail1">Họ và tên</label>
							    <input type="text" class="form-control" id="nameUpdateUser" readonly="readonly">
							</div>
							<div class="form-group">
							    <label for="exampleInputEmail1">email</label>
							    <input type="email" class="form-control" readonly="readonly" id="emailUpdateUser">
							</div>
							<div class="form-group">
							    <label for="exampleInputEmail1">Ngày Sinh</label>
							    <input type="date" class="form-control" readonly="readonly" id="dateUpdateUser">
							</div>
							<div class="form-group">
								<div class="form-check-inline">
								   <label class="form-check-label" for="radio1"> 
										<input type="hidden" class="form-check-input" id="genderUpdateUser" name="optradio" value="false" checked>
									</label> 
									<label class="form-check-label" for="radio2"> 
									    <input type="hidden" class="form-check-input" id="genderUpdateUser" name="optradio" value="true">
									</label>
								</div>
							</div>
							
		        		</div>
		        		<div class="col-lg-6">
		        			<div class="form-group">
							    <label for="exampleInputEmail1">Số Điện Thoại</label>
							    <input type="text" class="form-control" readonly="readonly" id="phoneUpdateUser">
							</div>
							<div class="form-group">
									<label for="exampleInputEmail1">Chức danh</label><br>
									<div class="form-check-inline">
									 <label class="form-check-label" for="radio1"> 
									 	<input type="radio" class="form-check-input" id="roleUpdateUser" name="optradio" value="false" checked >Admin
									</label> 
									<label class="form-check-label" for="radio2">
										 <input type="radio" class="form-check-input" id="roleUpdateUser" name="optradio" value="true"  style="margin-left: 20px;">Khách hàng
									</label>
									</div>
							</div>
							<div class="form-group">
							    <label for="exampleInputEmail1">Địa Chỉ</label>
							    <textarea type="text" readonly="readonly" class="form-control" id="addressUpdateUser"></textarea>
							</div>
							
		        		</div>
		        	</div>
		        </div>
		        
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-primary" onclick="updateAjaxUser()" data-dismiss="modal">Lưu</button>
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Thoát</button>
		      </div>
		    </div>
		
		  </div>
		</div> -->
	
	
	<!-- container-scroller -->
	<!-- plugins:js -->
	<script src="../assets/vendors/js/vendor.bundle.base.js"></script>
	<script src="../assets/vendors/js/vendor.bundle.addons.js"></script>
	<!-- endinject -->
	<!-- Plugin js for this page-->
	<!-- End plugin js for this page-->
	<!-- inject:js -->
	<script src="../assets/js/shared/off-canvas.js"></script>
	<script src="../assets/js/shared/misc.js"></script>
	<!-- endinject -->
	<!-- Custom js for this page-->
	<script src="../assets/js/demo_1/dashboard.js"></script>
	<!-- End custom js for this page-->
	<!-- DataTables -->
	<script th:src="@{/assets/vendors/datatables/jquery.dataTables.js}"></script>
	<script th:src="@{/assets/vendors/datatables/dataTables.bootstrap4.js}"></script>
	<!-- <script type="text/javascript">
	
		$(document).ready(function() {
			listUser();
		});
		function listUser(){
			$.ajax({
				type : "GET",
				contentType : "application/json; charset=utf-8",
				dataType : 'json',
				url : "/manager/listUserAjax",
				success : function(result){
					detailHtml(result);
				},
				error: function(result){
					
					console.log(result);
					alert('failedd');
				}
			});
		}
		function detailHtml(result){
			 var listUser = result;
			 if(listUser == null){
				 alert('failed');
			 }else{
				 $('#dataForm').empty();
				 
				 $.each(listUser, function(i, item){
					 var html = '<tr>'
						+'<td id="idUser-'+item.userId+'">'+item.userId+'</td>'
						+'<td id="fullnameUser-'+item.userId+'">'+item.fullname+'</td>'
						+'<td id="emailUser-'+item.userId+'">'+item.email+'</td>'
						+'<td id="genderUser-'+item.userId+'">'+item.gender+'</td>'
						+'<td id="birthdayUser-'+item.userId+'">'+item.birthday+'</td>'
						+'<td id="phoneUser-'+item.userId+'">'+item.phone+'</td>'
						+'<td id="roleUser-'+item.userId+'">'+item.role+'</td>'
						+'<td id="addressUser-'+item.userId+'">'+item.address+'</td>'
						+'<td>'
						+'<button class="btn btn-info" onclick="setDataUser('+item.userId+')" data-toggle="modal" data-target="#updateUser">Cập Nhập</button>'
						+'</td>'
					+'</tr>';
					$('#dataForm').append(html);
				 });
			 }
		}
		function setDataUser(idUser){
			$('#idUpdateUser').val($('#idUser-'+idUser).text());
			$('#nameUpdateUser').val($('#fullnameUser-'+idUser).text());
			$('#emailUpdateUser').val($('#emailUser-'+idUser).text());
			$('#dateUpdateUser').val($('#birthdayUser-'+idUser).text());
			$('#genderUpdateUser').val($('#genderUser-'+idUser).text());
			$('#phoneUpdateUser').val($('#phoneUser-'+idUser).text());
			$('#roleUpdateUser').val('#roleUser-'+idUser).text();
			$('#addressUpdateUser').val($('#addressUser-'+idUser).text());
		}
		function updateUser(){
			var dataUser = {
					"userId" : $('#idUpdateUser').val(),
					"fullname" : $('#nameUpdateUser').val(),
					"email" : $('#emailUpdateUser').val(),
					"birthday" :$('#dateUpdateUser').val(),
					"gender" : $('#genderUpdateUser').val(),
					"phone" : $('#phoneUpdateUser').val(),
					"role" : $('#roleUpdateUser').val(),
					"address" : $('#addressUpdateUser').val()
			};
			$.ajax({
				type : "POST",
				contentType : "application/json; charset=utf-8",
				dataType : 'json',
				url : "/manager/updateUserAjax",
				success : function(result){
					detailHtml(result);
				},
				error: function(result){
					
					console.log(result);
					alert('failedd');
				}
			});
		}
	</script> -->
</body>
</html>